<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="/layout/admin/index"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
    <title layout:fragment="title">Dasboard - Nhập hàng hoá</title>
</head>
<body>
<div layout:fragment="content-admin">
    <div class="card">
        <div class="card-body">
            <div class="d-flex mb-3">
                <h3 class="flex-grow-1 mt-0 header-title">
                    Nhập thông tin sản phẩm
                </h3>
                <a class="btn btn-primary" href="/admin/product">
                    Quay lại
                </a>
            </div>
            <div class="container">
                <form id="form-input-category" th:object="${product}">
                    <input type="hidden" name="id"/>
                    <div class="form-group row">
                        <strong class="col-sm-2 col-form-label text-right">
                            Tên sản phẩm
                        </strong>
                        <div class="col-sm-10">
                            <input class="form-control" type="text" placeholder="Nhập tên sản phẩm"
                                   name="name" maxlength="50" th:value="*{name}">
                        </div>
                    </div>
                    <div class="form-group row">
                        <strong class="col-sm-2 col-form-label text-right">
                            Đường dẫn
                        </strong>
                        <div class="col-sm-10">
                            <input class="form-control" type="text" placeholder="Nhập đường dẫn" name="path"
                                   maxlength="32" th:value="*{path}">
                        </div>
                    </div>
                    <div class="form-group row">
                        <strong class="col-sm-2 col-form-label text-right">
                            Thương hiệu
                        </strong>
                        <div class="col-sm-10">
                            <select class="select2 form-control custom-select" name="idBrand"
                                    style="width: 100%; height:36px;">
                                <th:block th:each="brand:${lstBrands}" th:object="${brand}">
                                    <option th:if="${product.idBrand == brand.id}" th:value="*{id}" selected
                                            th:text="*{name}"></option>
                                    <option th:unless="${product.idBrand == brand.id}" th:value="*{id}"
                                            th:text="*{name}"></option>
                                </th:block>
                            </select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <strong class="col-sm-2 col-form-label text-right">
                            Loại sản phẩm
                        </strong>
                        <div class="col-sm-10">
                            <select class="select2 form-control custom-select" name="idCategory"
                                    style="width: 100%; height:36px;">
                                <th:block th:each="category:${lstCategories}" th:object="${category}">
                                    <option th:if="${product.idCategory == category.id}" th:value="*{id}" selected
                                            th:text="*{name}"></option>
                                    <option th:unless="${product.idCategory == category.id}" th:value="*{id}"
                                            th:text="*{name}"></option>
                                </th:block>
                            </select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <strong class="col-sm-2 col-form-label text-right">
                            Giá bán ra
                        </strong>
                        <div class="col-sm-10">
                            <input class="form-control" type="text" placeholder="Nhập giá bán ra"
                                   name="price" maxlength="32"
                                   th:value="*{price}">
                        </div>
                    </div>
                    <div class="form-group row">
                        <strong class="col-sm-2 col-form-label text-right">
                            Giá giảm
                        </strong>
                        <div class="col-sm-10">
                            <input class="form-control" type="text" placeholder="Nhập giá giảm"
                                   name="priceSale" maxlength="32"
                                   th:value="*{priceSale}">
                        </div>
                    </div>
                    <div class="form-group row">
                        <strong class="col-sm-2 col-form-label text-right">
                            Số lượng
                        </strong>
                        <div class="col-sm-10">
                            <input class="form-control" type="text" placeholder="Nhập số lượng"
                                   name="quantity" maxlength="32"
                                   th:value="*{quantity}">
                        </div>
                    </div>
                    <div class="form-group row">
                        <strong class="col-sm-2 col-form-label text-right">
                            Màu sắc
                        </strong>
                        <div class="col-sm-10">
                            <input class="form-control" type="text" placeholder="Nhập màu sắc" name="color"
                                   maxlength="32" th:value="*{color}">
                        </div>
                    </div>
                    <div class="form-group row">
                        <strong class="col-sm-2 col-form-label text-right">
                            Mô tả
                        </strong>
                        <div class="col-sm-10">
                            <textarea class="form-control" name="description" maxlength="255" rows="3"
                                      placeholder="Nhập mô tả" th:text="*{description}"></textarea>
                        </div>
                    </div>
                    <div class="form-group row">
                        <strong class="col-sm-2 col-form-label text-right">
                            Hướng dẫn sử dụng
                        </strong>
                        <div class="col-sm-10">
                            <input type="file" id="input-file-now-custom-2" name="avatar"
                                   class="file-avatar dropify"
                                   accept="application/msword, application/vnd.ms-excel, application/vnd.ms-powerpoint, text/plain, application/pdf"
                                   onchange="onChangeFileAvatar(this)" data-oldimg="" data-height="200">
                        </div>
                    </div>
                </form>
                <button class="btn btn-success float-right mt-3 mb-3">Lưu lại</button>
            </div>
        </div>
        <!--end card-body-->
    </div>
    <!--end card-->
</div>
<th:block layout:fragment="script-admin">
    <script src="/web-admin/js/jquery.repeater.min.js"></script>
    <!--    <script src="/web-admin/js/jquery.form-repeater.js"></script>-->
    <!--    UPLOAD-->
    <script src="/web-admin/js/dropify.min.js"></script>
    <script src="/web-admin/js/jquery.form-upload.init.js"></script>
    <script>
        $(document).ready(function () {
            "use strict";
            $(".parameter-show-hide").repeater({
                show: function () {
                    $(this).slideDown()
                }, hide: function (e) {
                    let parameter = $(this);
                    let up = e;
                    swal({
                        title: "Cảnh báo!",
                        text: "Bạn có chắc muốn xoá 1 thuộc tính thông số không?",
                        type: "warning",
                        showCancelButton: !0,
                        confirmButtonClass: "btn btn-success",
                        cancelButtonClass: "btn btn-danger ml-2"
                    }).then((function (t) {
                        if (t.value) {
                            parameter.slideUp(up)
                        }
                    }))
                }
            })
            $(".benefit-show-hiden").repeater({
                show: function () {
                    $(this).slideDown()
                }, hide: function (e) {
                    let benefit = $(this);
                    let up = e;
                    swal({
                        title: "Cảnh báo!",
                        text: "Bạn có chắc muốn xoá 1 thuộc tính lợi ích không?",
                        type: "warning",
                        showCancelButton: !0,
                        confirmButtonClass: "btn btn-success",
                        cancelButtonClass: "btn btn-danger ml-2"
                    }).then((function (t) {
                        if (t.value) {
                            benefit.slideUp(up)
                        }
                    }))
                    // confirm("Bạn có chắc muốn xoá 1 thuộc tính lợi ích không?") && $(this).slideUp(e)
                }
            })
        });
    </script>
</th:block>
<th:block layout:fragment="css-admin">
    <!--    UPLOAD-->
    <link href="/web-admin/css/dropify.min.css" type="text/css" rel="stylesheet">
</th:block>
</body>
</html>